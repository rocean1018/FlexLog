exports.id=523,exports.ids=[523],exports.modules={10444:(a,b,c)=>{Promise.resolve().then(c.bind(c,53197))},14738:(a,b,c)=>{"use strict";c.d(b,{l:()=>i,o:()=>j});var d=c(21124),e=c(38301),f=c(85607),g=c(23018);let h=(0,e.createContext)(null);function i(){let[a,b]=(0,e.useState)([]),c=(0,e.useMemo)(()=>({push:a=>{let c={...a,id:crypto.randomUUID()};b(a=>[...a,c]),setTimeout(()=>{b(a=>a.filter(a=>a.id!==c.id))},2600)}}),[]);return(0,d.jsx)(h.Provider,{value:c,children:(0,d.jsx)("div",{className:"pointer-events-none fixed right-4 top-4 z-[100] w-[340px] max-w-[calc(100vw-2rem)] space-y-2",children:(0,d.jsx)(f.N,{children:a.map(a=>(0,d.jsx)(g.P.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.18},className:["pointer-events-auto rounded-2xl border p-3 backdrop-blur","success"===a.type&&"border-emerald-900/60 bg-emerald-950/40","error"===a.type&&"border-red-900/60 bg-red-950/40","info"===a.type&&"border-zinc-800 bg-zinc-950/60"].join(" "),children:(0,d.jsx)("div",{className:"text-sm text-zinc-100",children:a.message})},a.id))})})})}let j={success:a=>window.__flexlog_toast?.push({type:"success",message:a}),error:a=>window.__flexlog_toast?.push({type:"error",message:a}),info:a=>window.__flexlog_toast?.push({type:"info",message:a})}},19327:(a,b,c)=>{"use strict";c.d(b,{P_:()=>h,Pj:()=>m,n4:()=>l});var d=c(23485),e=c(11316);let f="flexlog:v1",g="user_snapshots";function h(a){}async function i(a){}function j(a){}function k(){return{units:"lb",selectedDate:(0,e.GP)(new Date,"yyyy-MM-dd"),onboarding:null,targets:null,logs:{},workoutDays:[],indicators:{},strengthTrackerEnabled:!0,bodyweightOverride:null,weightLogs:{}}}async function l(a){if(!d.N)return{synced:!1,reason:"supabase_not_configured"};let{data:b,error:c}=await d.N.from(g).select("state").eq("user_id",a).maybeSingle();return c?(console.warn("Failed to fetch user snapshot",c),{synced:!1,reason:"fetch_error"}):b?.state?(localStorage.setItem(f,JSON.stringify(b.state)),j(b.state),{synced:!0,reason:"loaded_remote"}):(j(k()),{synced:!0,reason:"no_remote"})}function m(){let a=()=>k(),b=b=>{let c=b(a());return localStorage.setItem(f,JSON.stringify(c)),j(c),c};return{exportAll:()=>a(),clearAll:()=>localStorage.removeItem(f),getUnits:()=>a().units,setUnits:a=>b(b=>({...b,units:a})),getSelectedDate:()=>a().selectedDate,setSelectedDate:a=>b(b=>({...b,selectedDate:a})),getOnboarding:()=>a().onboarding,setOnboarding:a=>b(b=>({...b,onboarding:a})),getTargets:()=>a().targets,setTargets:a=>b(b=>({...b,targets:a})),getDailyLog:b=>a().logs[b]??{date:b,mealGroups:[]},setDailyLog:a=>b(b=>({...b,logs:{...b.logs,[a.date]:a},indicators:{...b.indicators,[a.date]:"dot"}})),addFoodItem:(a,c,d)=>b(b=>{let e=b.logs[a]??{date:a,mealGroups:[]},f=e.mealGroups.map(a=>a.id===c?{...a,items:[...a.items,d]}:a),g={...e,mealGroups:f};return{...b,logs:{...b.logs,[a]:g},indicators:{...b.indicators,[a]:"dot"}}}),getDayIndicator:b=>a().indicators[b]??"none",getWorkoutDays:()=>a().workoutDays,setWorkoutDays:a=>b(b=>({...b,workoutDays:a})),getStrengthTrackerEnabled:()=>a().strengthTrackerEnabled??!0,setStrengthTrackerEnabled:a=>b(b=>({...b,strengthTrackerEnabled:a})),getBodyweightOverride:()=>a().bodyweightOverride??null,setBodyweightOverride:a=>b(b=>({...b,bodyweightOverride:a})),bumpWorkoutIndicator:a=>b(b=>({...b,indicators:{...b.indicators,[a]:"dot"}})),syncSnapshotsNow:()=>i(a()),getWeightLogs:()=>a().weightLogs??{},setWeightLog:(a,c)=>b(b=>({...b,weightLogs:{...b.weightLogs,[a]:c}})),removeWeightLog:a=>b(b=>{let c={...b.weightLogs};return delete c[a],{...b,weightLogs:c}})}}},22116:(a,b,c)=>{"use strict";c.d(b,{A:()=>i,O:()=>h});var d=c(21124),e=c(38301),f=c(23485);c(19327);let g=(0,e.createContext)({session:null,user:null,loading:!1,ready:!1,supabaseAvailable:!!f.N,signUp:async()=>({error:"Auth not configured"}),signIn:async()=>({error:"Auth not configured"}),signOut:async()=>({error:"Auth not configured"})});function h({children:a}){let[b,c]=(0,e.useState)(null),[h,i]=(0,e.useState)(null),[j,k]=(0,e.useState)(!1),l=!!f.N,m=(!j||!l)&&!j,n=(0,e.useMemo)(()=>({session:b,user:h,loading:m,ready:j,supabaseAvailable:l,signUp:async(a,b)=>{if(!f.N)return{error:"Auth not configured"};let{error:c}=await f.N.auth.signUp({email:a,password:b});return{error:c?.message}},signIn:async(a,b)=>{if(!f.N)return{error:"Auth not configured"};let{error:c}=await f.N.auth.signInWithPassword({email:a,password:b});return{error:c?.message}},signOut:async()=>{if(!f.N)return{error:"Auth not configured"};let{error:a}=await f.N.auth.signOut();return{error:a?.message}}}),[b,h,m,j,l]);return(0,d.jsx)(g.Provider,{value:n,children:a})}function i(){return(0,e.useContext)(g)}},23485:(a,b,c)=>{"use strict";c.d(b,{N:()=>g});var d=c(53861);let e="https://tosrqizgsvmqxgcmvrgm.supabase.co",f="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRvc3JxaXpnc3ZtcXhnY212cmdtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYwNzg3NTYsImV4cCI6MjA4MTY1NDc1Nn0.3SjpqNotspin0hy4MztwG5uG_AFHSSdhiD47gqmc9G8",g=e&&f?(0,d.UU)(e,f,{auth:{detectSessionInUrl:!0,persistSession:!0}}):null},44263:()=>{},44943:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f,s:()=>g});var d=c(43249),e=c(58829);function f(...a){return(0,e.QP)((0,d.$)(a))}function g(a,b){let c;return(...d)=>{clearTimeout(c),c=setTimeout(()=>a(...d),b)}}},46892:(a,b,c)=>{Promise.resolve().then(c.bind(c,51472))},51472:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/roshanshah/Desktop/flexlog 2/src/app/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/roshanshah/Desktop/flexlog 2/src/app/layout.tsx","default")},53197:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>r});var d=c(21124);c(44263);var e=c(3991),f=c.n(e),g=c(42378),h=c(44943),i=c(4386),j=c(6343),k=c(43872),l=c(94684),m=c(22116);let n=[{href:"/log",label:"Log",icon:i.A},{href:"/foods",label:"Foods",icon:j.A},{href:"/workouts",label:"Workouts",icon:k.A},{href:"/settings",label:"Settings",icon:l.A}];function o({children:a}){let b=(0,g.usePathname)(),{user:c,supabaseAvailable:e}=(0,m.A)();return(0,d.jsx)("div",{className:"min-h-screen",children:(0,d.jsx)("div",{className:"mx-auto max-w-7xl",children:(0,d.jsxs)("div",{className:"grid min-h-screen grid-rows-[1fr] lg:grid-cols-[260px,1fr]",children:[(0,d.jsxs)("aside",{className:"sticky top-0 hidden h-screen border-r border-zinc-900 bg-zinc-950/50 p-4 backdrop-blur lg:block",children:[(0,d.jsxs)(f(),{href:"/",className:"block rounded-2xl px-3 py-2 hover:bg-zinc-900/40",children:[(0,d.jsx)("div",{className:"text-sm text-zinc-400",children:"FlexLog"}),(0,d.jsx)("div",{className:"text-base font-semibold",children:"Dashboard"})]}),(0,d.jsx)("div",{className:"mt-4 grid gap-1",children:n.map(a=>{let c=b?.startsWith(a.href),e=a.icon;return(0,d.jsxs)(f(),{href:a.href,className:(0,h.cn)("flex items-center gap-3 rounded-2xl px-3 py-2 text-sm transition",c?"bg-zinc-900/50 ring-1 ring-zinc-800":"hover:bg-zinc-900/30"),children:[(0,d.jsx)(e,{className:"h-4 w-4 text-zinc-300"}),(0,d.jsx)("span",{children:a.label})]},a.href)})}),(0,d.jsxs)("div",{className:"mt-6 space-y-1 text-xs text-zinc-500",children:[(0,d.jsxs)("div",{children:["Guest mode by default. ",e?"Supabase Auth enabled.":"Add Supabase keys to enable accounts."]}),(0,d.jsx)("div",{className:"text-sm",children:c?(0,d.jsxs)("span",{className:"text-zinc-300",children:["Signed in as ",c.email]}):(0,d.jsx)(f(),{href:"/auth",className:"text-zinc-200 underline",children:"Create an account / sign in"})})]})]}),(0,d.jsxs)("main",{className:"pb-10",children:[(0,d.jsx)("div",{className:"lg:hidden",children:(0,d.jsx)(p,{})}),a]})]})})})}function p(){let a=(0,g.usePathname)();return(0,d.jsx)("div",{className:"sticky top-0 z-40 border-b border-zinc-900 bg-zinc-950/70 px-4 py-3 backdrop-blur",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)(f(),{href:"/",className:"font-semibold tracking-tight",children:"FlexLog"}),(0,d.jsx)("div",{className:"flex items-center gap-1",children:n.map(b=>{let c=a?.startsWith(b.href),e=b.icon;return(0,d.jsx)(f(),{href:b.href,className:(0,h.cn)("grid h-10 w-10 place-items-center rounded-2xl transition",c?"bg-zinc-900/60 ring-1 ring-zinc-800":"hover:bg-zinc-900/30"),title:b.label,children:(0,d.jsx)(e,{className:"h-4 w-4"})},b.href)})})]})})}var q=c(14738);function r({children:a}){return(0,d.jsx)("html",{lang:"en",className:"dark",children:(0,d.jsxs)("body",{children:[(0,d.jsx)(m.O,{children:(0,d.jsx)(o,{children:a})}),(0,d.jsx)(q.l,{})]})})}},55659:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},95411:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))}};