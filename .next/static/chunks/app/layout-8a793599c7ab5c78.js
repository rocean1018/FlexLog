(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{63:(e,r,t)=>{"use strict";var s=t(7260);t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},383:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(1847).A)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},1847:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var s=t(2115);let a=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)((e,r)=>{let{color:t="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:u,...h}=e;return(0,s.createElement)("svg",{ref:r,...n,width:i,height:i,stroke:t,strokeWidth:c?24*Number(l)/Number(i):l,className:a("lucide",o),...h},[...u.map(e=>{let[r,t]=e;return(0,s.createElement)(r,t)}),...Array.isArray(d)?d:[d]])}),l=(e,r)=>{let t=(0,s.forwardRef)((t,n)=>{let{className:l,...c}=t;return(0,s.createElement)(i,{ref:n,iconNode:r,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),l),...c})});return t.displayName="".concat(e),t}},2916:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>v});var s=t(5155);t(3673);var a=t(2619),n=t.n(a),i=t(63),l=t(4269),c=t(1847);let o=(0,c.A)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);var d=t(383),u=t(4982);let h=(0,c.A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var m=t(7078);let p=[{href:"/log",label:"Log",icon:o},{href:"/foods",label:"Foods",icon:d.A},{href:"/workouts",label:"Workouts",icon:u.A},{href:"/settings",label:"Settings",icon:h}];function x(e){let{children:r}=e,t=(0,i.usePathname)(),{user:a,supabaseAvailable:c}=(0,m.A)();return(0,s.jsx)("div",{className:"min-h-screen",children:(0,s.jsx)("div",{className:"mx-auto max-w-7xl",children:(0,s.jsxs)("div",{className:"grid min-h-screen grid-rows-[1fr] lg:grid-cols-[260px,1fr]",children:[(0,s.jsxs)("aside",{className:"sticky top-0 hidden h-screen border-r border-zinc-900 bg-zinc-950/50 p-4 backdrop-blur lg:block",children:[(0,s.jsxs)(n(),{href:"/",className:"block rounded-2xl px-3 py-2 hover:bg-zinc-900/40",children:[(0,s.jsx)("div",{className:"text-sm text-zinc-400",children:"FlexLog"}),(0,s.jsx)("div",{className:"text-base font-semibold",children:"Dashboard"})]}),(0,s.jsx)("div",{className:"mt-4 grid gap-1",children:p.map(e=>{let r=null==t?void 0:t.startsWith(e.href),a=e.icon;return(0,s.jsxs)(n(),{href:e.href,className:(0,l.cn)("flex items-center gap-3 rounded-2xl px-3 py-2 text-sm transition",r?"bg-zinc-900/50 ring-1 ring-zinc-800":"hover:bg-zinc-900/30"),children:[(0,s.jsx)(a,{className:"h-4 w-4 text-zinc-300"}),(0,s.jsx)("span",{children:e.label})]},e.href)})}),(0,s.jsxs)("div",{className:"mt-6 space-y-1 text-xs text-zinc-500",children:[(0,s.jsxs)("div",{children:["Guest mode by default. ",c?"Supabase Auth enabled.":"Add Supabase keys to enable accounts."]}),(0,s.jsx)("div",{className:"text-sm",children:a?(0,s.jsxs)("span",{className:"text-zinc-300",children:["Signed in as ",a.email]}):(0,s.jsx)(n(),{href:"/auth",className:"text-zinc-200 underline",children:"Create an account / sign in"})})]})]}),(0,s.jsxs)("main",{className:"pb-10",children:[(0,s.jsx)("div",{className:"lg:hidden",children:(0,s.jsx)(g,{})}),r]})]})})})}function g(){let e=(0,i.usePathname)();return(0,s.jsx)("div",{className:"sticky top-0 z-40 border-b border-zinc-900 bg-zinc-950/70 px-4 py-3 backdrop-blur",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(n(),{href:"/",className:"font-semibold tracking-tight",children:"FlexLog"}),(0,s.jsx)("div",{className:"flex items-center gap-1",children:p.map(r=>{let t=null==e?void 0:e.startsWith(r.href),a=r.icon;return(0,s.jsx)(n(),{href:r.href,className:(0,l.cn)("grid h-10 w-10 place-items-center rounded-2xl transition",t?"bg-zinc-900/60 ring-1 ring-zinc-800":"hover:bg-zinc-900/30"),title:r.label,children:(0,s.jsx)(a,{className:"h-4 w-4"})},r.href)})})]})})}var f=t(4734);function v(e){let{children:r}=e;return(0,s.jsx)("html",{lang:"en",className:"dark",children:(0,s.jsxs)("body",{children:[(0,s.jsx)(m.O,{children:(0,s.jsx)(x,{children:r})}),(0,s.jsx)(f.l,{})]})})}},3673:()=>{},4269:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n,s:()=>i});var s=t(2821),a=t(5889);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}function i(e,r){let t;return function(){for(var s=arguments.length,a=Array(s),n=0;n<s;n++)a[n]=arguments[n];clearTimeout(t),t=setTimeout(()=>e(...a),r)}}},4734:(e,r,t)=>{"use strict";t.d(r,{l:()=>c,o:()=>o});var s=t(5155),a=t(2115),n=t(1408),i=t(4486);let l=(0,a.createContext)(null);function c(){let[e,r]=(0,a.useState)([]),t=(0,a.useMemo)(()=>({push:e=>{let t={...e,id:crypto.randomUUID()};r(e=>[...e,t]),setTimeout(()=>{r(e=>e.filter(e=>e.id!==t.id))},2600)}}),[]);return(0,a.useEffect)(()=>{window.__flexlog_toast=t},[t]),(0,s.jsx)(l.Provider,{value:t,children:(0,s.jsx)("div",{className:"pointer-events-none fixed right-4 top-4 z-[100] w-[340px] max-w-[calc(100vw-2rem)] space-y-2",children:(0,s.jsx)(n.N,{children:e.map(e=>(0,s.jsx)(i.P.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.18},className:["pointer-events-auto rounded-2xl border p-3 backdrop-blur","success"===e.type&&"border-emerald-900/60 bg-emerald-950/40","error"===e.type&&"border-red-900/60 bg-red-950/40","info"===e.type&&"border-zinc-800 bg-zinc-950/60"].join(" "),children:(0,s.jsx)("div",{className:"text-sm text-zinc-100",children:e.message})},e.id))})})})}let o={success:e=>{var r;return null==(r=window.__flexlog_toast)?void 0:r.push({type:"success",message:e})},error:e=>{var r;return null==(r=window.__flexlog_toast)?void 0:r.push({type:"error",message:e})},info:e=>{var r;return null==(r=window.__flexlog_toast)?void 0:r.push({type:"info",message:e})}}},4982:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(1847).A)("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]])},7078:(e,r,t)=>{"use strict";t.d(r,{O:()=>d,A:()=>u});var s=t(5155),a=t(2115),n=t(2373);let i="https://tosrqizgsvmqxgcmvrgm.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRvc3JxaXpnc3ZtcXhnY212cmdtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYwNzg3NTYsImV4cCI6MjA4MTY1NDc1Nn0.3SjpqNotspin0hy4MztwG5uG_AFHSSdhiD47gqmc9G8",c=i&&l?(0,n.UU)(i,l,{auth:{detectSessionInUrl:!0,persistSession:!0}}):null,o=(0,a.createContext)({session:null,user:null,loading:!1,ready:!1,supabaseAvailable:!!c,signUp:async()=>({error:"Auth not configured"}),signIn:async()=>({error:"Auth not configured"}),signOut:async()=>({error:"Auth not configured"})});function d(e){let{children:r}=e,[t,n]=(0,a.useState)(null),[i,l]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1),h=!!c;(0,a.useEffect)(()=>{if(!c)return void u(!0);let e=!1;c.auth.getSession().then(r=>{var t,s;let{data:a}=r;e||(n(a.session),l(null!=(s=null==(t=a.session)?void 0:t.user)?s:null),u(!0))});let{data:{subscription:r}}=c.auth.onAuthStateChange((e,r)=>{var t;n(r),l(null!=(t=null==r?void 0:r.user)?t:null)});return()=>{e=!0,r.unsubscribe()}},[]);let m=(!d||!h)&&!d,p=(0,a.useMemo)(()=>({session:t,user:i,loading:m,ready:d,supabaseAvailable:h,signUp:async(e,r)=>{if(!c)return{error:"Auth not configured"};let{error:t}=await c.auth.signUp({email:e,password:r});return{error:null==t?void 0:t.message}},signIn:async(e,r)=>{if(!c)return{error:"Auth not configured"};let{error:t}=await c.auth.signInWithPassword({email:e,password:r});return{error:null==t?void 0:t.message}},signOut:async()=>{if(!c)return{error:"Auth not configured"};let{error:e}=await c.auth.signOut();return{error:null==e?void 0:e.message}}}),[t,i,m,d,h]);return(0,s.jsx)(o.Provider,{value:p,children:r})}function u(){return(0,a.useContext)(o)}},8948:(e,r,t)=>{Promise.resolve().then(t.bind(t,2916))}},e=>{e.O(0,[978,909,825,619,373,441,255,358],()=>e(e.s=8948)),_N_E=e.O()}]);