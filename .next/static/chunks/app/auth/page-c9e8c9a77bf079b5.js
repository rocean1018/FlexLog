(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{1166:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});var s=r(5155);r(2115);var i=r(4269);function n(e){let{className:t,variant:r="primary",size:n="md",...a}=e;return(0,s.jsx)("button",{className:(0,i.cn)("inline-flex items-center justify-center rounded-full font-semibold uppercase tracking-wide transition duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:opacity-60","primary"===r&&"bg-gradient-to-r from-sky-400 via-fuchsia-500 to-emerald-400 text-white shadow-[0_15px_35px_rgba(8,47,73,0.45)] hover:opacity-90","secondary"===r&&"border border-white/15 bg-white/10 text-white shadow-[0_10px_25px_rgba(0,0,0,0.4)] hover:bg-white/20","ghost"===r&&"text-white/80 hover:text-white hover:bg-white/10","destructive"===r&&"bg-gradient-to-r from-rose-500 to-orange-500 text-white shadow-[0_15px_35px_rgba(127,29,29,0.45)] hover:opacity-90","sm"===n&&"px-3.5 py-1.5 text-[11px]","md"===n&&"px-4 py-2 text-sm","lg"===n&&"px-5 py-2.5 text-base",t),...a})}},1774:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(5155),i=r(2115),n=r(2619),a=r.n(n),o=r(5795),l=r(7972),c=r(5590),u=r(1166),d=r(7078),p=r(4734);function x(){let{signIn:e,signUp:t,signOut:r,user:n,supabaseAvailable:x}=(0,d.A)(),[h,g]=(0,i.useState)("signup"),[m,v]=(0,i.useState)(""),[b,f]=(0,i.useState)(""),[w,y]=(0,i.useState)(!1);async function j(r){if(r.preventDefault(),!x)return void p.o.error("Supabase auth is not configured.");y(!0);let{error:s}=await ("signup"===h?t:e)(m,b);y(!1),s?p.o.error(s):p.o.success("signup"===h?"Check your email to confirm your account.":"Welcome back!")}async function _(){y(!0);let{error:e}=await r();y(!1),e?p.o.error(e):p.o.success("Signed out")}return(0,s.jsxs)("div",{className:"mx-auto max-w-lg px-4 py-6",children:[(0,s.jsx)(o.V,{title:"Account",subtitle:n?"Signed in as ".concat(n.email):"Create an account or sign in",right:(0,s.jsx)(a(),{href:"/log",children:(0,s.jsx)(u.$,{variant:"secondary",children:"Back to log"})})}),(0,s.jsxs)(l.Z,{children:[x?null:(0,s.jsxs)("div",{className:"text-sm text-zinc-400",children:["Set ",(0,s.jsx)("span",{className:"text-zinc-200",children:"NEXT_PUBLIC_SUPABASE_URL"})," and ",(0,s.jsx)("span",{className:"text-zinc-200",children:"NEXT_PUBLIC_SUPABASE_ANON_KEY"})," to enable Supabase Auth."]}),n?(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("div",{className:"rounded-2xl bg-zinc-950/40 p-4 ring-1 ring-zinc-800",children:[(0,s.jsx)("div",{className:"text-sm text-zinc-400",children:"Currently signed in"}),(0,s.jsx)("div",{className:"text-lg font-semibold",children:n.email})]}),(0,s.jsx)(u.$,{variant:"destructive",onClick:_,disabled:w,children:"Sign out"})]}):(0,s.jsxs)("form",{className:"grid gap-4",onSubmit:j,children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(u.$,{type:"button",variant:"signup"===h?"primary":"ghost",onClick:()=>g("signup"),className:"flex-1",children:"Create account"}),(0,s.jsx)(u.$,{type:"button",variant:"signin"===h?"primary":"ghost",onClick:()=>g("signin"),className:"flex-1",children:"Sign in"})]}),(0,s.jsx)(c.p,{label:"Email",type:"email",required:!0,value:m,onChange:e=>v(e.target.value),placeholder:"you@example.com"}),(0,s.jsx)(c.p,{label:"Password",type:"password",required:!0,value:b,onChange:e=>f(e.target.value),placeholder:"At least 6 characters"}),(0,s.jsx)(u.$,{type:"submit",disabled:w||!x,children:"signup"===h?"Create account":"Sign in"}),"signup"===h?(0,s.jsx)("p",{className:"text-xs text-zinc-500",children:"You'll receive a confirmation email. The account becomes active once confirmed."}):null]})]})]})}},4269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n,s:()=>a});var s=r(2821),i=r(5889);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,s.$)(t))}function a(e,t){let r;return function(){for(var s=arguments.length,i=Array(s),n=0;n<s;n++)i[n]=arguments[n];clearTimeout(r),r=setTimeout(()=>e(...i),t)}}},4734:(e,t,r)=>{"use strict";r.d(t,{l:()=>l,o:()=>c});var s=r(5155),i=r(2115),n=r(1408),a=r(4486);let o=(0,i.createContext)(null);function l(){let[e,t]=(0,i.useState)([]),r=(0,i.useMemo)(()=>({push:e=>{let r={...e,id:crypto.randomUUID()};t(e=>[...e,r]),setTimeout(()=>{t(e=>e.filter(e=>e.id!==r.id))},2600)}}),[]);return(0,i.useEffect)(()=>{window.__flexlog_toast=r},[r]),(0,s.jsx)(o.Provider,{value:r,children:(0,s.jsx)("div",{className:"pointer-events-none fixed right-4 top-4 z-[100] w-[340px] max-w-[calc(100vw-2rem)] space-y-2",children:(0,s.jsx)(n.N,{children:e.map(e=>(0,s.jsx)(a.P.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.18},className:["pointer-events-auto rounded-2xl border p-3 backdrop-blur","success"===e.type&&"border-emerald-900/60 bg-emerald-950/40","error"===e.type&&"border-red-900/60 bg-red-950/40","info"===e.type&&"border-zinc-800 bg-zinc-950/60"].join(" "),children:(0,s.jsx)("div",{className:"text-sm text-zinc-100",children:e.message})},e.id))})})})}let c={success:e=>{var t;return null==(t=window.__flexlog_toast)?void 0:t.push({type:"success",message:e})},error:e=>{var t;return null==(t=window.__flexlog_toast)?void 0:t.push({type:"error",message:e})},info:e=>{var t;return null==(t=window.__flexlog_toast)?void 0:t.push({type:"info",message:e})}}},5590:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var s=r(5155);r(2115);var i=r(4269);function n(e){let{label:t,className:r,disabled:n,...a}=e;return(0,s.jsxs)("label",{className:(0,i.cn)("block space-y-2",r,n&&"opacity-60"),children:[t?(0,s.jsx)("div",{className:"text-[10px] uppercase tracking-[0.35em] text-white/60",children:t}):null,(0,s.jsx)("input",{disabled:n,className:(0,i.cn)("w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white placeholder:text-white/40 transition focus:border-white/40 focus:outline-none",n&&"cursor-not-allowed opacity-70"),...a})]})}},5795:(e,t,r)=>{"use strict";r.d(t,{V:()=>o});var s=r(5155),i=r(2115),n=r(4486),a=r(4269);function o(e){let{title:t,subtitle:r,right:o,className:l}=e,[c,u]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=()=>u(window.scrollY>8);return e(),window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]),(0,s.jsx)(n.P.div,{className:(0,a.cn)("sticky top-0 z-30 rounded-3xl border border-white/10 bg-white/5 px-4 py-4 backdrop-blur-xl shadow-[0_20px_60px_rgba(2,4,13,0.55)]",c?"border-white/15 bg-white/10":"",l),animate:{paddingTop:c?12:16,paddingBottom:c?12:16},transition:{duration:.18},children:(0,s.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-zinc-400",children:r}),(0,s.jsx)("div",{className:"text-xl font-semibold tracking-tight",children:t})]}),o?(0,s.jsx)("div",{children:o}):null]})})}},7078:(e,t,r)=>{"use strict";r.d(t,{O:()=>u,A:()=>d});var s=r(5155),i=r(2115),n=r(2373);let a="https://tosrqizgsvmqxgcmvrgm.supabase.co",o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRvc3JxaXpnc3ZtcXhnY212cmdtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYwNzg3NTYsImV4cCI6MjA4MTY1NDc1Nn0.3SjpqNotspin0hy4MztwG5uG_AFHSSdhiD47gqmc9G8",l=a&&o?(0,n.UU)(a,o,{auth:{detectSessionInUrl:!0,persistSession:!0}}):null,c=(0,i.createContext)({session:null,user:null,loading:!1,ready:!1,supabaseAvailable:!!l,signUp:async()=>({error:"Auth not configured"}),signIn:async()=>({error:"Auth not configured"}),signOut:async()=>({error:"Auth not configured"})});function u(e){let{children:t}=e,[r,n]=(0,i.useState)(null),[a,o]=(0,i.useState)(null),[u,d]=(0,i.useState)(!1),p=!!l;(0,i.useEffect)(()=>{if(!l)return void d(!0);let e=!1;l.auth.getSession().then(t=>{var r,s;let{data:i}=t;e||(n(i.session),o(null!=(s=null==(r=i.session)?void 0:r.user)?s:null),d(!0))});let{data:{subscription:t}}=l.auth.onAuthStateChange((e,t)=>{var r;n(t),o(null!=(r=null==t?void 0:t.user)?r:null)});return()=>{e=!0,t.unsubscribe()}},[]);let x=(!u||!p)&&!u,h=(0,i.useMemo)(()=>({session:r,user:a,loading:x,ready:u,supabaseAvailable:p,signUp:async(e,t)=>{if(!l)return{error:"Auth not configured"};let{error:r}=await l.auth.signUp({email:e,password:t});return{error:null==r?void 0:r.message}},signIn:async(e,t)=>{if(!l)return{error:"Auth not configured"};let{error:r}=await l.auth.signInWithPassword({email:e,password:t});return{error:null==r?void 0:r.message}},signOut:async()=>{if(!l)return{error:"Auth not configured"};let{error:e}=await l.auth.signOut();return{error:null==e?void 0:e.message}}}),[r,a,x,u,p]);return(0,s.jsx)(c.Provider,{value:h,children:t})}function d(){return(0,i.useContext)(c)}},7972:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(5155);r(2115);var i=r(4269);function n(e){let{className:t,children:r}=e;return(0,s.jsx)("div",{className:(0,i.cn)("w-full rounded-[28px] border border-white/10 bg-white/5 p-5 shadow-[0_30px_80px_rgba(2,4,13,0.65)] backdrop-blur-xl transition-colors duration-200 hover:border-white/20 sm:p-6",t),children:r})}},9760:(e,t,r)=>{Promise.resolve().then(r.bind(r,1774))}},e=>{e.O(0,[909,825,619,373,441,255,358],()=>e(e.s=9760)),_N_E=e.O()}]);