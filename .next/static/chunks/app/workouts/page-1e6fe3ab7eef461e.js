(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{1166:(e,s,t)=>{"use strict";t.d(s,{$:()=>a});var i=t(5155);t(2115);var l=t(4269);function a(e){let{className:s,variant:t="primary",size:a="md",...r}=e;return(0,i.jsx)("button",{className:(0,l.cn)("inline-flex items-center justify-center rounded-full font-semibold uppercase tracking-wide transition duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:opacity-60","primary"===t&&"bg-gradient-to-r from-sky-400 via-fuchsia-500 to-emerald-400 text-white shadow-[0_15px_35px_rgba(8,47,73,0.45)] hover:opacity-90","secondary"===t&&"border border-white/15 bg-white/10 text-white shadow-[0_10px_25px_rgba(0,0,0,0.4)] hover:bg-white/20","ghost"===t&&"text-white/80 hover:text-white hover:bg-white/10","destructive"===t&&"bg-gradient-to-r from-rose-500 to-orange-500 text-white shadow-[0_15px_35px_rgba(127,29,29,0.45)] hover:opacity-90","sm"===a&&"px-3.5 py-1.5 text-[11px]","md"===a&&"px-4 py-2 text-sm","lg"===a&&"px-5 py-2.5 text-base",s),...r})}},1360:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(1847).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},1847:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var i=t(2115);let l=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=(0,i.forwardRef)((e,s)=>{let{color:t="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:u,...h}=e;return(0,i.createElement)("svg",{ref:s,...a,width:r,height:r,stroke:t,strokeWidth:o?24*Number(n)/Number(r):n,className:l("lucide",d),...h},[...u.map(e=>{let[s,t]=e;return(0,i.createElement)(s,t)}),...Array.isArray(c)?c:[c]])}),n=(e,s)=>{let t=(0,i.forwardRef)((t,a)=>{let{className:n,...o}=t;return(0,i.createElement)(r,{ref:a,iconNode:s,className:l("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),n),...o})});return t.displayName="".concat(e),t}},3449:(e,s,t)=>{"use strict";t.d(s,{P:()=>c});var i=t(4986);let l="flexlog:v1",a="flexlog:device-id",r=null,n=null;async function o(e){1;try{await fetch("/api/storage/snapshot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deviceId:function(){try{let e=localStorage.getItem(a);if(e)return e;return e="undefined"!=typeof crypto&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2),localStorage.setItem(a,e),e}catch(e){return"fallback-device"}}(),state:e})})}catch(e){console.warn("Failed to sync Supabase snapshot",e)}}function d(){return{units:"lb",selectedDate:(0,i.GP)(new Date,"yyyy-MM-dd"),onboarding:null,targets:null,logs:{},workoutDays:[],indicators:{},strengthTrackerEnabled:!0,bodyweightOverride:null,weightLogs:{}}}function c(){let e=()=>(function(){try{let e=localStorage.getItem(l);if(!e)return d();let s=JSON.parse(e);return{...d(),...s}}catch(e){return d()}})(),s=s=>{var t;let i=s(e());return localStorage.setItem(l,JSON.stringify(i)),t=i,r=JSON.parse(JSON.stringify(t)),n||(n=window.setTimeout(()=>{n=null,r&&o(r).catch(()=>{})},1e3)),i};return{exportAll:()=>e(),clearAll:()=>localStorage.removeItem(l),getUnits:()=>e().units,setUnits:e=>s(s=>({...s,units:e})),getSelectedDate:()=>e().selectedDate,setSelectedDate:e=>s(s=>({...s,selectedDate:e})),getOnboarding:()=>e().onboarding,setOnboarding:e=>s(s=>({...s,onboarding:e})),getTargets:()=>e().targets,setTargets:e=>s(s=>({...s,targets:e})),getDailyLog:s=>{var t;return null!=(t=e().logs[s])?t:{date:s,mealGroups:[]}},setDailyLog:e=>s(s=>({...s,logs:{...s.logs,[e.date]:e},indicators:{...s.indicators,[e.date]:"dot"}})),addFoodItem:(e,t,i)=>s(s=>{var l;let a=null!=(l=s.logs[e])?l:{date:e,mealGroups:[]},r=a.mealGroups.map(e=>e.id===t?{...e,items:[...e.items,i]}:e),n={...a,mealGroups:r};return{...s,logs:{...s.logs,[e]:n},indicators:{...s.indicators,[e]:"dot"}}}),getDayIndicator:s=>{var t;return null!=(t=e().indicators[s])?t:"none"},getWorkoutDays:()=>e().workoutDays,setWorkoutDays:e=>s(s=>({...s,workoutDays:e})),getStrengthTrackerEnabled:()=>{var s;return null==(s=e().strengthTrackerEnabled)||s},setStrengthTrackerEnabled:e=>s(s=>({...s,strengthTrackerEnabled:e})),getBodyweightOverride:()=>{var s;return null!=(s=e().bodyweightOverride)?s:null},setBodyweightOverride:e=>s(s=>({...s,bodyweightOverride:e})),bumpWorkoutIndicator:e=>s(s=>({...s,indicators:{...s.indicators,[e]:"dot"}})),syncSnapshotsNow:()=>o(e()),getWeightLogs:()=>{var s;return null!=(s=e().weightLogs)?s:{}},setWeightLog:(e,t)=>s(s=>({...s,weightLogs:{...s.weightLogs,[e]:t}})),removeWeightLog:e=>s(s=>{let t={...s.weightLogs};return delete t[e],{...s,weightLogs:t}})}}},3698:(e,s,t)=>{"use strict";t.d(s,{l:()=>a});var i=t(5155),l=t(4269);function a(e){let{label:s,value:t,onChange:a,options:r,className:n,disabled:o}=e;return(0,i.jsxs)("label",{className:(0,l.cn)("block space-y-2",n,o&&"opacity-60"),children:[s?(0,i.jsx)("div",{className:"text-[10px] uppercase tracking-[0.35em] text-white/60",children:s}):null,(0,i.jsx)("select",{disabled:o,className:(0,l.cn)("w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-white/40",o&&"cursor-not-allowed opacity-70"),value:t,onChange:e=>a(e.target.value),children:r.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))})]})}t(2115)},4033:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(1847).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},4269:(e,s,t)=>{"use strict";t.d(s,{cn:()=>a,s:()=>r});var i=t(2821),l=t(5889);function a(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,l.QP)((0,i.$)(s))}function r(e,s){let t;return function(){for(var i=arguments.length,l=Array(i),a=0;a<i;a++)l[a]=arguments[a];clearTimeout(t),t=setTimeout(()=>e(...l),s)}}},4734:(e,s,t)=>{"use strict";t.d(s,{l:()=>o,o:()=>d});var i=t(5155),l=t(2115),a=t(1408),r=t(4486);let n=(0,l.createContext)(null);function o(){let[e,s]=(0,l.useState)([]),t=(0,l.useMemo)(()=>({push:e=>{let t={...e,id:crypto.randomUUID()};s(e=>[...e,t]),setTimeout(()=>{s(e=>e.filter(e=>e.id!==t.id))},2600)}}),[]);return(0,l.useEffect)(()=>{window.__flexlog_toast=t},[t]),(0,i.jsx)(n.Provider,{value:t,children:(0,i.jsx)("div",{className:"pointer-events-none fixed right-4 top-4 z-[100] w-[340px] max-w-[calc(100vw-2rem)] space-y-2",children:(0,i.jsx)(a.N,{children:e.map(e=>(0,i.jsx)(r.P.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.18},className:["pointer-events-auto rounded-2xl border p-3 backdrop-blur","success"===e.type&&"border-emerald-900/60 bg-emerald-950/40","error"===e.type&&"border-red-900/60 bg-red-950/40","info"===e.type&&"border-zinc-800 bg-zinc-950/60"].join(" "),children:(0,i.jsx)("div",{className:"text-sm text-zinc-100",children:e.message})},e.id))})})})}let d={success:e=>{var s;return null==(s=window.__flexlog_toast)?void 0:s.push({type:"success",message:e})},error:e=>{var s;return null==(s=window.__flexlog_toast)?void 0:s.push({type:"error",message:e})},info:e=>{var s;return null==(s=window.__flexlog_toast)?void 0:s.push({type:"info",message:e})}}},5590:(e,s,t)=>{"use strict";t.d(s,{p:()=>a});var i=t(5155);t(2115);var l=t(4269);function a(e){let{label:s,className:t,disabled:a,...r}=e;return(0,i.jsxs)("label",{className:(0,l.cn)("block space-y-2",t,a&&"opacity-60"),children:[s?(0,i.jsx)("div",{className:"text-[10px] uppercase tracking-[0.35em] text-white/60",children:s}):null,(0,i.jsx)("input",{disabled:a,className:(0,l.cn)("w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white placeholder:text-white/40 transition focus:border-white/40 focus:outline-none",a&&"cursor-not-allowed opacity-70"),...r})]})}},5795:(e,s,t)=>{"use strict";t.d(s,{V:()=>n});var i=t(5155),l=t(2115),a=t(4486),r=t(4269);function n(e){let{title:s,subtitle:t,right:n,className:o}=e,[d,c]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=()=>c(window.scrollY>8);return e(),window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]),(0,i.jsx)(a.P.div,{className:(0,r.cn)("sticky top-0 z-30 rounded-3xl border border-white/10 bg-white/5 px-4 py-4 backdrop-blur-xl shadow-[0_20px_60px_rgba(2,4,13,0.55)]",d?"border-white/15 bg-white/10":"",o),animate:{paddingTop:d?12:16,paddingBottom:d?12:16},transition:{duration:.18},children:(0,i.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm text-zinc-400",children:t}),(0,i.jsx)("div",{className:"text-xl font-semibold tracking-tight",children:s})]}),n?(0,i.jsx)("div",{children:n}):null]})})}},6003:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>_});var i=t(5155),l=t(2115),a=t(2619),r=t.n(a),n=t(5795),o=t(7972),d=t(1166),c=t(5590),u=t(3698),h=t(3449),p=t(4734),b=t(1408),x=t(4486),g=t(1360),m=t(6191);function f(e,s){return"kg"===s?2.2046226218*e:e}let w=[{profile:{id:"squat-back-front",label:"Squat (Back/Front)",description:"Bilateral squat patterns emphasizing knee and hip extension.",expectedRelative:1.7},patterns:[/\b(back\s*squat|squat\s*back|high\s*bar\s*squat|low\s*bar\s*squat)\b/i,/\b(front\s*squat|fsq|f\s*squat)\b/i,/\b(safety\s*bar\s*squat|ssb\s*squat|ssb)\b/i,/\b(pause\s*squat|tempo\s*squat|box\s*squat)\b/i,/\b(squat)\b/i]},{profile:{id:"squat-specialty-zercher-jefferson",label:"Squat (Specialty)",description:"Specialty squat variants like Zercher, Jefferson, hack, goblet, overhead.",expectedRelative:1.5},patterns:[/\bzercher\b/i,/\b(jefferson\s*squat|jefferson)\b/i,/\bhack\s*squat\b/i,/\bgoblet\s*squat\b/i,/\b(overhead\s*squat|oh\s*squat)\b/i]},{profile:{id:"deadlift-conventional-sumo",label:"Deadlift (Conventional/Sumo)",description:"Heavy hip hinge pulls from the floor.",expectedRelative:1.85},patterns:[/\b(dead\s*lift|deadlift|dl)\b/i,/\b(conventional\s*deadlift|conv\s*dl)\b/i,/\b(sumo\s*deadlift|sumo\s*dl)\b/i,/\b(trap\s*bar\s*deadlift|hex\s*bar\s*deadlift|trap\s*bar\s*dl|hex\s*dl)\b/i]},{profile:{id:"hinge-rdl-stiffleg-goodmorning",label:"Hinge (RDL/Stiff-Leg/Good Morning)",description:"Posterior-chain hinges without pulling from the floor.",expectedRelative:1.45},patterns:[/\b(rdl|romanian\s*dead\s*lift|romanian\s*deadlift)\b/i,/\b(stiff\s*leg\s*deadlift|stiff\s*legged\s*deadlift|sldl)\b/i,/\b(good\s*morning|gm)\b/i,/\b(block\s*pull|rack\s*pull|pin\s*pull)\b/i,/\b(jefferson\s*curl)\b/i]},{profile:{id:"split-unilateral-squat",label:"Unilateral/Split Squat",description:"Single-leg squat patterns (Bulgarian split squat, lunges, step-ups).",expectedRelative:1.05},patterns:[/\b(bulgarian\s*(split\s*squat|ss)|bss)\b/i,/\bsplit\s*squat\b/i,/\b(lunge|lunges|reverse\s*lunge|walking\s*lunge|forward\s*lunge|static\s*lunge)\b/i,/\b(step\s*up|stepup)\b/i,/\b(pistol\s*squat|shrimp\s*squat)\b/i]},{profile:{id:"hip-thrust-bridge",label:"Hip Thrust / Glute Bridge",description:"Horizontal hip extension patterns like hip thrusts and bridges.",expectedRelative:1.3},patterns:[/\b(hip\s*thrust|hipthrust)\b/i,/\b(glute\s*bridge|glute\s*bridges|bridge\s*press)\b/i,/\b(barbell\s*hip\s*thrust|bb\s*hip\s*thrust)\b/i,/\b(single\s*leg\s*hip\s*thrust|single\s*leg\s*glute\s*bridge)\b/i]},{profile:{id:"horizontal-press-bench",label:"Horizontal Press (Bench Variants)",description:"Bench press variations and horizontal pressing.",expectedRelative:1.25},patterns:[/\b(bench\s*press|bench)\b/i,/\b(close\s*grip\s*bench|cg\s*bench|cgbp)\b/i,/\b(incline\s*(bench|press)|incline\s*press)\b/i,/\b(decline\s*(bench|press)|decline\s*press)\b/i,/\b(db\s*bench|dumbbell\s*bench|db\s*press|dumbbell\s*press)\b/i,/\b(chest\s*press\s*machine|machine\s*chest\s*press)\b/i]},{profile:{id:"vertical-press-ohp",label:"Vertical Press (OHP Variants)",description:"Overhead pressing patterns (standing/seated).",expectedRelative:.85},patterns:[/\b(ohp|overhead\s*press|overhead\s*barbell\s*press)\b/i,/\bmilitary\s*press\b/i,/\b(push\s*press|pp)\b/i,/\b(seated\s*overhead\s*press|seated\s*ohp)\b/i,/\b(db\s*shoulder\s*press|dumbbell\s*shoulder\s*press|db\s*ohp)\b/i,/\barnold\s*press\b/i]},{profile:{id:"dips-pushups-bodyweight-press",label:"Bodyweight Pressing (Dips/Push-ups)",description:"Bodyweight pressing such as dips and push-ups.",expectedRelative:.95},patterns:[/\b(dip|dips|weighted\s*dip|ring\s*dip)\b/i,/\b(push\s*up|pushup|press\s*up)\b/i,/\b(weighted\s*push\s*up|weighted\s*pushup)\b/i,/\b(handstand\s*push\s*up|hspu)\b/i]},{profile:{id:"rows-horizontal-pull",label:"Rows (Horizontal Pull)",description:"Horizontal pulling movements for the back.",expectedRelative:1},patterns:[/\brow(s)?\b/i,/\b(barbell\s*row|bb\s*row|bent\s*over\s*row|pendlay)\b/i,/\b(dumbbell\s*row|db\s*row|one\s*arm\s*row|single\s*arm\s*row)\b/i,/\b(cable\s*row|seated\s*row|low\s*row)\b/i,/\b(chest\s*supported\s*row|t\s*bar\s*row|tbar\s*row)\b/i,/\b(machine\s*row|hammer\s*strength\s*row)\b/i]},{profile:{id:"vertical-pull-pullups-pulldown",label:"Vertical Pull (Pull-ups/Pulldown)",description:"Vertical pulling movements for lats.",expectedRelative:.9},patterns:[/\b(pull\s*up|pullup|chin\s*up|chinup)\b/i,/\b(weighted\s*(pull\s*up|pullup|chin\s*up|chinup))\b/i,/\b(lat\s*pull\s*down|lat\s*pulldown|pull\s*down|pulldown)\b/i,/\b(neutral\s*grip\s*pull\s*up|neutral\s*grip\s*pulldown)\b/i,/\b(assisted\s*pull\s*up|assisted\s*pullup)\b/i]},{profile:{id:"olympic-lifts",label:"Olympic Lifts",description:"Clean, snatch, jerk variants with a catch.",expectedRelative:1.05},patterns:[/\b(clean\s*&\s*jerk|clean\s*and\s*jerk|c\s*&\s*j)\b/i,/\b(power\s*clean|hang\s*clean|clean)\b/i,/\b(snatch|power\s*snatch|hang\s*snatch)\b/i,/\b(jerk|push\s*jerk|split\s*jerk)\b/i]},{profile:{id:"olympic-derivatives-pulls",label:"Olympic Derivatives (Pulls)",description:"Olympic pulls and explosive derivatives without a catch.",expectedRelative:1.25},patterns:[/\b(clean\s*pull|snatch\s*pull)\b/i,/\b(high\s*pull|hang\s*high\s*pull)\b/i,/\b(mid\s*thigh\s*pull|pull\s*from\s*blocks)\b/i]},{profile:{id:"lower-machine-compound",label:"Lower Body Machine Compounds",description:"Compound lower-body machines like leg press and hack squat.",expectedRelative:1.5},patterns:[/\bleg\s*press\b/i,/\b(hack\s*squat\s*machine|machine\s*hack\s*squat)\b/i,/\b(smith\s*machine\s*squat|smith\s*squat)\b/i,/\b(v\s*squat|v-?squat|pendulum\s*squat)\b/i]},{profile:{id:"hamstring-posterior-accessory",label:"Posterior Chain Accessories",description:"Hamstring curls, GHRs, hypers, and related accessories.",expectedRelative:.75},patterns:[/\b(hamstring\s*curl|leg\s*curl|lying\s*leg\s*curl|seated\s*leg\s*curl)\b/i,/\b(nordic\s*curl|nordic\s*hamstring)\b/i,/\b(glute\s*ham\s*raise|ghr)\b/i,/\b(back\s*extension|hyper\s*extension|reverse\s*hyper)\b/i,/\b(pull\s*through|cable\s*pull\s*through)\b/i]},{profile:{id:"quad-accessory-extension",label:"Quad Accessories (Extensions)",description:"Knee-extension isolation such as leg extensions and sissy squats.",expectedRelative:.65},patterns:[/\b(leg\s*extension|quad\s*extension)\b/i,/\bsissy\s*squat\b/i]},{profile:{id:"calf-raises",label:"Calves",description:"Calf raise variations.",expectedRelative:.55},patterns:[/\b(calf\s*raise|calf\s*raises)\b/i,/\b(seated\s*calf\s*raise|standing\s*calf\s*raise)\b/i,/\b(donkey\s*calf\s*raise)\b/i]},{profile:{id:"chest-flye-isolation",label:"Chest Isolation (Flyes)",description:"Chest fly and pec deck style movements.",expectedRelative:.6},patterns:[/\b(fly|flye|flyes|fly\s*machine|pec\s*deck|pec\s*deck\s*fly)\b/i,/\b(cable\s*crossover|cable\s*fly|chest\s*fly)\b/i]},{profile:{id:"shoulder-isolation-lateral-raise",label:"Shoulder Isolation (Raises)",description:"Lateral, front, rear raises and face pulls.",expectedRelative:.5},patterns:[/\b(lateral\s*raise|lat\s*raise|side\s*raise)\b/i,/\bfront\s*raise\b/i,/\b(rear\s*delt\s*raise|rear\s*raise|reverse\s*fly|reverse\s*flye)\b/i,/\bface\s*pull\b/i]},{profile:{id:"biceps-isolation",label:"Biceps Isolation",description:"Curl variations for elbow flexion.",expectedRelative:.5},patterns:[/\b(curl|curls)\b/i,/\b(bicep\s*curl|biceps\s*curl)\b/i,/\b(hammer\s*curl|incline\s*curl|preacher\s*curl|spider\s*curl)\b/i,/\b(ez\s*bar\s*curl|ez\s*curl)\b/i,/\b(cable\s*curl|machine\s*curl)\b/i]},{profile:{id:"triceps-isolation",label:"Triceps Isolation",description:"Pushdowns, skull crushers, overhead extensions, kickbacks.",expectedRelative:.55},patterns:[/\b(tricep|triceps)\b/i,/\b(push\s*down|pushdown|press\s*down|pressdown)\b/i,/\b(skull\s*crusher|skullcrusher|lying\s*triceps\s*extension)\b/i,/\b(overhead\s*triceps\s*extension|oh\s*extension)\b/i,/\b(triceps\s*kickback|kickback)\b/i]},{profile:{id:"upper-back-traps",label:"Traps/Upper Back",description:"Shrugs, upright rows, and high rows.",expectedRelative:.75},patterns:[/\b(shrug|shrugs)\b/i,/\bupright\s*row\b/i,/\bhigh\s*row\b/i]},{profile:{id:"core-anti-movement",label:"Core (Anti-movement/Abs)",description:"Core stability and abdominal isolation.",expectedRelative:.4},patterns:[/\b(plank|side\s*plank)\b/i,/\b(ab\s*wheel|roll\s*out|rollout)\b/i,/\b(crunch|sit\s*up|situp)\b/i,/\bpallof\s*press\b/i,/\b(hanging\s*leg\s*raise|leg\s*raise|toes\s*to\s*bar)\b/i]},{profile:{id:"carries-strongman",label:"Carries & Strongman Events",description:"Farmer’s walks, yoke carries, sled work, stone loads.",expectedRelative:.45},patterns:[/\b(farmer'?s\s*(walk|carry)|farmers\s*walk|farmers\s*carry)\b/i,/\b(yoke\s*(walk|carry))\b/i,/\b(suitcase\s*carry|waiter\s*carry|overhead\s*carry)\b/i,/\b(sled\s*(push|pull)|prowler)\b/i,/\b(stone\s*load|atlas\s*stone)\b/i]},{profile:{id:"machines-cables-general",label:"Machines/Cables (General)",description:"General machine or cable compounds.",expectedRelative:.85},patterns:[/\b(machine\s*press|machine\s*row|hammer\s*strength)\b/i,/\b(cable\s*(press|row|pulldown|pull\s*down))\b/i,/\b(smith\s*machine\s*(press|bench|ohp))\b/i]}],v={id:"general",label:"Unclassified",description:"Fallback when no movement profile matches.",expectedRelative:.8};var y=t(1847);let j=(0,y.A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),k=(0,y.A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var N=t(4033);function S(e){var s,t,l,a,r,n;let{primarySeries:o,weightSeries:d,yUnitLabel:c}=e,u=684,h=236;if(!o.length)return(0,i.jsx)("div",{className:"flex h-32 w-full items-center justify-center rounded-2xl border border-dashed border-white/15 text-sm text-white/60",children:"Not enough data yet."});let p=new Set;o.forEach(e=>p.add(e.date)),null==d||d.forEach(e=>p.add(e.date));let b=Array.from(p).sort(),x=b.length?b:o.map(e=>e.date),g=new Map(x.map((e,s)=>[e,s])),m=Math.max(1,x.length-1),f=Math.max(1,o.length-1),w=o.map(e=>e.index),v=Math.min(...w),y=Math.max(...w);if(Number.isFinite(v)&&Number.isFinite(y)||(v=0,y=1),1e-6>Math.abs(y-v)){let e=Math.max(1,.25*Math.abs(y||1));v-=e,y+=e}let j=y-v,k=j<2?e=>e.toFixed(2):j<20?e=>e.toFixed(1):e=>e.toFixed(0),N=(e,s)=>{if(!x.length)return 80+s/f*u;let t=g.get(e);return 80+(void 0!==t?1===x.length?0:t/m:s/f)*u},S=e=>28+h-(e-v)/j*h,C=o.map((e,s)=>"".concat(N(e.date,s).toFixed(1),",").concat(S(e.index).toFixed(1))).join(" "),q="";if(d&&d.length>=2){let e=d.map(e=>e.weight),s=Math.min(...e),t=Math.max(...e);if(1e-6>Math.abs(t-s)){let e=Math.max(1,.25*Math.abs(t||1));s-=e,t+=e}let i=t-s;q=d.map(e=>{let t=N(e.date,0),l=28+h-(e.weight-s)/i*h;return"".concat(t.toFixed(1),",").concat(l.toFixed(1))}).join(" ")}let _=Array.from({length:4},(e,s)=>{let t=y-s/3*(y-v);return{value:t,y:S(t)}}),D=null!=(a=null!=(l=x[0])?l:null==(s=o[0])?void 0:s.date)?a:"",M=null!=(n=null!=(r=x[x.length-1])?r:null==(t=o[o.length-1])?void 0:t.date)?n:"";return(0,i.jsx)("div",{className:"w-full overflow-hidden",children:(0,i.jsxs)("svg",{viewBox:"0 0 ".concat(800," ").concat(320),className:"h-64 w-full sm:h-72 lg:h-[320px]",preserveAspectRatio:"none",children:[(0,i.jsx)("line",{x1:80,y1:28,x2:80,y2:264,stroke:"currentColor",className:"text-white/20"}),(0,i.jsx)("line",{x1:80,y1:264,x2:764,y2:264,stroke:"currentColor",className:"text-white/20"}),_.map((e,s)=>(0,i.jsxs)("g",{children:[(0,i.jsx)("line",{x1:80,x2:764,y1:e.y,y2:e.y,stroke:"currentColor",strokeDasharray:"4 6",className:"text-white/10"}),(0,i.jsx)("text",{x:8,y:e.y+4,className:"fill-current text-[11px] font-medium uppercase tracking-wide text-white/60",children:k(e.value)})]},s)),q?(0,i.jsx)("polyline",{points:q,fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"text-sky-300/80 drop-shadow-[0_0_12px_rgba(56,189,248,0.45)]"}):null,C?(0,i.jsx)("polyline",{points:C,fill:"none",stroke:"currentColor",strokeWidth:"2.2",className:"text-white drop-shadow-[0_0_14px_rgba(255,255,255,0.35)]"}):null,c?(0,i.jsx)("text",{x:8,y:24,className:"fill-current text-[11px] font-semibold uppercase tracking-wide text-white/70",children:c}):null,(0,i.jsx)("text",{x:80,y:308,className:"fill-current text-[11px] font-medium uppercase tracking-wide text-white/60",children:D}),(0,i.jsx)("text",{x:684,y:308,className:"fill-current text-[11px] font-medium uppercase tracking-wide text-white/60",children:M})]})})}function C(e){var s,t,a,r;let{result:n,enabled:u,weightEntries:h=[],onLogWeight:p,onDeleteWeight:g,defaultWeightDate:m,units:f}=e,[w,v]=(0,l.useState)(!0),[y,C]=(0,l.useState)(null!=m?m:new Date().toISOString().slice(0,10)),[q,_]=(0,l.useState)("");(0,l.useEffect)(()=>{m&&C(m)},[m]);let D=(0,l.useMemo)(()=>h.slice().sort((e,s)=>e.date.localeCompare(s.date)),[h]),M=n.series.length>=2,R=D.length>=2,W=(0,l.useMemo)(()=>M?n.series:R?D.map(e=>({date:e.date,index:e.weight,entries:1})):n.series,[M,R,n.series,D]),A=M&&R?D:void 0,L=M?"Strength index (\xd7 bodyweight)":f?"Weight (".concat(f,")"):"Weight",E=null!=(a=n.current)?a:null!=(t=null==(s=n.series[n.series.length-1])?void 0:s.index)?t:void 0;return u?(0,i.jsxs)(o.Z,{children:[(0,i.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[(0,i.jsx)(j,{className:"h-4 w-4"})," Strength Index"]}),(0,i.jsxs)("div",{className:"mt-2 flex flex-wrap items-baseline gap-x-3 gap-y-1",children:[(0,i.jsx)("div",{className:"text-3xl font-semibold tracking-tight",children:E?"".concat(E.toFixed(2),"x"):"—"}),(0,i.jsx)("div",{className:"text-sm text-white/60",children:"bodyweight (avg e1RM / BW)"}),(0,i.jsxs)("div",{className:"text-sm text-white/70",children:[function(e){if(void 0===e||!Number.isFinite(e))return"—";let s=e>=0?"+":"";return"".concat(s).concat(e.toFixed(1),"%")}(n.changePct)," vs baseline"]})]})]}),(0,i.jsx)(d.$,{variant:"ghost",onClick:()=>v(e=>!e),children:w?(0,i.jsxs)(i.Fragment,{children:["Details ",(0,i.jsx)(k,{className:"ml-2 h-4 w-4"})]}):(0,i.jsxs)(i.Fragment,{children:["Details ",(0,i.jsx)(N.A,{className:"ml-2 h-4 w-4"})]})})]}),(0,i.jsx)(b.N,{initial:!1,children:w?(0,i.jsx)(x.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.18},className:"overflow-hidden",children:(0,i.jsxs)("div",{className:"mt-4 grid gap-4 lg:grid-cols-[minmax(0,2fr),minmax(260px,360px)]",children:[(0,i.jsx)("div",{className:"rounded-[24px] border border-white/10 bg-black/30 p-4",children:n.ok||R?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.3em] text-white/60",children:[(0,i.jsx)("span",{children:"Trend"}),A?(0,i.jsx)("span",{className:"text-sky-300",children:"Weight overlay"}):null]}),(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsx)(S,{primarySeries:W,weightSeries:A,yUnitLabel:L})}),(0,i.jsxs)("div",{className:"mt-2 flex flex-wrap gap-3 text-xs text-white/60",children:[(0,i.jsxs)("span",{children:[n.distinctDays," logged days"]}),(0,i.jsxs)("span",{children:[n.totalEntries," entries"]}),(0,i.jsxs)("span",{children:["baseline≈",(null!=(r=n.baseline)?r:0).toFixed(2),"x"]}),!n.ok&&R?(0,i.jsx)("span",{className:"text-sky-300",children:"Showing weight-only trend"}):null]})]}):(0,i.jsx)("div",{className:"text-sm text-white/70",children:n.reason})}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"rounded-[24px] border border-white/10 bg-black/30 p-4",children:[(0,i.jsx)("div",{className:"text-xs uppercase tracking-[0.3em] text-white/60",children:"Method"}),(0,i.jsx)("div",{className:"mt-2 text-sm text-white/80",children:"Uses Epley estimated 1RM, adjusts for lift type (compound vs isolation expectations), then normalizes by bodyweight."}),(0,i.jsx)("div",{className:"mt-2 text-xs text-white/60",children:"Tip: track weights consistently for the same lifts for the cleanest signal."})]}),(0,i.jsxs)("div",{className:"rounded-[24px] border border-white/10 bg-black/30 p-4",children:[(0,i.jsx)("div",{className:"text-xs uppercase tracking-[0.3em] text-white/60",children:"Weight tracker"}),(0,i.jsxs)("form",{className:"mt-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-[minmax(0,180px)_minmax(0,1fr)_120px]",onSubmit:e=>{e.preventDefault();let s=parseFloat(q);p&&Number.isFinite(s)&&!(s<=0)&&(p(y,s),_(""))},children:[(0,i.jsx)(c.p,{label:"Date",type:"date",value:y,onChange:e=>C(e.target.value),required:!0,className:"w-full"}),(0,i.jsx)(c.p,{label:"Weight (".concat(null!=f?f:"units",")"),type:"number",step:"0.1",value:q,onChange:e=>_(e.target.value),required:!0,className:"w-full"}),(0,i.jsx)("div",{className:"flex flex-col justify-end sm:col-span-2 lg:col-span-1",children:(0,i.jsx)(d.$,{type:"submit",className:"w-full",children:"Save"})})]}),h.length?(0,i.jsx)("div",{className:"mt-3 space-y-2 font-mono text-sm text-white/80",children:h.slice().sort((e,s)=>s.date.localeCompare(e.date)).slice(0,5).map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,i.jsxs)("span",{children:[e.date," \xb7 ",e.weight,null!=f?f:""]}),g?(0,i.jsx)("button",{type:"button",className:"text-rose-300 hover:text-rose-200",onClick:()=>g(e.date),children:"Remove"}):null]},e.date))}):(0,i.jsx)("div",{className:"mt-3 text-xs text-white/60",children:"No weigh-ins yet."})]})]})]})},"open"):null})]}):(0,i.jsx)(o.Z,{children:(0,i.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[(0,i.jsx)(j,{className:"h-4 w-4"})," Strength Index"]}),(0,i.jsx)("div",{className:"mt-2 text-sm text-white/70",children:"Disabled in Settings."})]})})})}let q=[{value:"",label:"Standalone (no weekday)"},{value:"0",label:"Sunday"},{value:"1",label:"Monday"},{value:"2",label:"Tuesday"},{value:"3",label:"Wednesday"},{value:"4",label:"Thursday"},{value:"5",label:"Friday"},{value:"6",label:"Saturday"}];function _(){var e;let s=(0,h.P)(),[t,a]=(0,l.useState)(!1),[m,y]=(0,l.useState)([]),[j,k]=(0,l.useState)(""),[N,S]=(0,l.useState)("lb"),[_,W]=(0,l.useState)(!0),[A,L]=(0,l.useState)(null),[E,F]=(0,l.useState)(()=>s.getWeightLogs()),[P,O]=(0,l.useState)(!1),T=(0,l.useMemo)(()=>{var e;return null!=(e=m.find(e=>e.id===j))?e:null},[m,j]),I=(0,l.useMemo)(()=>(function(e){let{workoutDays:s,units:t,bodyweight:i,bodyweightUnits:l,minDistinctDays:a=4,minTotalEntries:r=8}=e;if(!i||i<=0)return{series:[],distinctDays:0,totalEntries:0,ok:!1,reason:"Add your bodyweight to enable strength tracking."};let n=f(i,l),o=function(e){let s=[];for(let i of e)for(let e of i.exercises){if(!e.trackWeight)continue;let i=function(e){let s=e.toLowerCase().replace(/\s/g,""),t=s.match(/(\d+)-(\d+)/);if(t){let e=Number(t[1]),s=Number(t[2]);if(Number.isFinite(e)&&Number.isFinite(s)&&e>0&&s>0)return(e+s)/2}let i=s.match(/(\d+)x(\d+)/);if(i){let e=Number(i[2]);if(Number.isFinite(e)&&e>0)return e}let l=s.match(/(\d+)/);if(l){let e=Number(l[1]);if(Number.isFinite(e)&&e>0)return e}return 8}(e.reps);for(let l of e.logs){var t;if(!(null==l?void 0:l.date)||!(null==l?void 0:l.weight))continue;let a=function(e){var s;let t=null!=(s=null==e?void 0:e.toLowerCase())?s:"";for(let e of w)if(e.patterns.some(e=>e.test(t)))return e.profile;return v}(null!=(t=e.name)?t:"");s.push({date:l.date,weight:l.weight,reps:i,ex:e,profile:a})}}return s}(s);if(0===o.length)return{series:[],distinctDays:0,totalEntries:0,ok:!1,reason:"Log exercise weights (and enable weight tracking on exercises) to see your strength trend."};let d=new Map;for(let e of o){var c;let s=f(e.weight,t)*(1+Math.max(1,Math.min(15,e.reps))/30)/n;if(!Number.isFinite(s)||s<=0)continue;let i=s/Math.max(.25,e.profile.expectedRelative),l=null!=(c=d.get(e.date))?c:[];l.push(i),d.set(e.date,l)}let u=Array.from(d.keys()).sort().map(e=>{var s;let t=null!=(s=d.get(e))?s:[];return{date:e,index:t.reduce((e,s)=>e+s,0)/Math.max(1,t.length),entries:t.length}}),h=u.length,p=u.reduce((e,s)=>e+s.entries,0);if(h<a||p<r)return{series:u,distinctDays:h,totalEntries:p,ok:!1,reason:"Not enough data yet. Log weights on at least ".concat(a," different days (and ideally ").concat(r,"+ total entries).")};let b=u.slice(0,Math.min(3,u.length)),x=u.slice(Math.max(0,u.length-3)),g=b.reduce((e,s)=>e+s.index,0)/b.length,m=x.reduce((e,s)=>e+s.index,0)/x.length;return{series:u,distinctDays:h,totalEntries:p,baseline:g,current:m,changePct:g>0?(m-g)/g*100:void 0,ok:!0}})({workoutDays:m,units:N,bodyweight:A,bodyweightUnits:N}),[m,N,A]),z=(0,l.useMemo)(()=>Object.entries(E).map(e=>{let[s,t]=e;return{date:s,weight:t}}).sort((e,s)=>e.date.localeCompare(s.date)),[E]);function U(e){y(e),s.setWorkoutDays(e)}function B(e){U(m.map(s=>s.id===e.id?e:s))}return(0,l.useEffect)(()=>{var e,t,i,l,r;let n=s.getOnboarding(),o=s.getWorkoutDays(),d=null!=(i=null!=(t=s.getUnits())?t:null==n?void 0:n.units)?i:"lb",c=s.getStrengthTrackerEnabled(),u=s.getBodyweightOverride(),h=null!=(l=null!=u?u:null==n?void 0:n.weight)?l:null;y(o),k(null!=(r=null==(e=o[0])?void 0:e.id)?r:""),S(d),W(c),L(h),F(s.getWeightLogs()),a(!0)},[]),(0,i.jsxs)("div",{className:"relative min-h-screen overflow-hidden bg-[#02040d] text-white",children:[(0,i.jsxs)("div",{className:"pointer-events-none absolute inset-0",children:[(0,i.jsx)("div",{className:"absolute left-10 top-0 h-96 w-96 rounded-full bg-sky-500/10 blur-[220px]"}),(0,i.jsx)("div",{className:"absolute right-0 bottom-[-20%] h-[420px] w-[420px] rounded-full bg-fuchsia-500/10 blur-[200px]"})]}),(0,i.jsxs)("div",{className:"relative mx-auto max-w-6xl px-4 py-10 space-y-8",children:[(0,i.jsx)(n.V,{title:"Workouts",subtitle:"Split builder + optional weight tracking",className:"border-white/10 bg-white/5",right:(0,i.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,i.jsx)(d.$,{variant:P?"secondary":"ghost",onClick:()=>O(e=>!e),"aria-pressed":P,children:P?"Editing enabled":"Enable edit mode"}),(0,i.jsx)(r(),{href:"/log",children:(0,i.jsx)(d.$,{variant:"secondary",children:"Back to log"})})]})}),(0,i.jsx)("div",{children:(0,i.jsx)(C,{result:I,enabled:_,weightEntries:z,onLogWeight:function(e,t){e&&Number.isFinite(t)&&!(t<=0)&&(s.setWeightLog(e,t),F(s.getWeightLogs()),p.o.success("Logged ".concat(t," ").concat(N," on ").concat(e)))},defaultWeightDate:null!=(e=s.getSelectedDate())?e:new Date().toISOString().slice(0,10),units:N,onDeleteWeight:function(e){s.removeWeightLog(e),F(s.getWeightLogs()),p.o.success("Removed weigh-in for ".concat(e))}})}),(0,i.jsxs)("div",{className:"grid gap-6 items-start lg:grid-cols-[minmax(280px,340px),1fr]",children:[(0,i.jsxs)(o.Z,{className:"border-white/10 bg-black/30",children:[(0,i.jsxs)("div",{className:"flex items-end justify-between gap-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-[10px] uppercase tracking-[0.35em] text-white/60",children:"Workout days"}),(0,i.jsxs)("div",{className:"mt-1 text-3xl font-semibold",children:[m.length," plan",1===m.length?"":"s"]})]}),(0,i.jsx)(D,{onAdd:function(e){let s={id:crypto.randomUUID(),name:e,weekday:null,sortOrder:m.length,exercises:[]};U([...m,s]),k(s.id)},disabled:!P})]}),(0,i.jsxs)("div",{className:"mt-5 grid gap-3",children:[m.map(e=>{var s;return(0,i.jsx)("button",{className:["w-full rounded-3xl border px-4 py-4 text-left transition",e.id===j?"border-white/30 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30"].join(" "),onClick:()=>k(e.id),children:(0,i.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-lg font-semibold",children:e.name}),(0,i.jsxs)("div",{className:"text-xs text-white/60",children:[null===e.weekday?"Standalone":null==(s=q.find(s=>s.value===String(e.weekday)))?void 0:s.label," • ",e.exercises.length," exercise",1===e.exercises.length?"":"s"]})]}),(0,i.jsx)("div",{className:"text-xs uppercase tracking-[0.3em] text-white/60",children:"Edit"})]})},e.id)}),0===m.length&&(0,i.jsx)("div",{className:"rounded-3xl border border-dashed border-white/15 bg-white/5 p-6 text-sm text-white/70",children:"Add a workout day like “Push” or “Upper”."})]})]}),(0,i.jsx)(o.Z,{className:"border-white/10 bg-gradient-to-br from-[#060c1a]/90 via-[#0f1326]/90 to-[#1b0c1b]/90",children:(0,i.jsx)(b.N,{mode:"wait",children:T?(0,i.jsxs)(x.P.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.18},children:[(0,i.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-xs uppercase tracking-[0.35em] text-white/60",children:"Editing"}),(0,i.jsx)("h2",{className:"text-3xl font-semibold",children:T.name})]}),(0,i.jsxs)(d.$,{className:"w-full sm:w-auto",variant:"destructive",onClick:()=>(function(e){var s,t;let i=m.filter(s=>s.id!==e);U(i),k(null!=(t=null==(s=i[0])?void 0:s.id)?t:"")})(T.id),disabled:!P,children:[(0,i.jsx)(g.A,{className:"mr-2 h-4 w-4"})," Delete day"]})]}),(0,i.jsxs)("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:[(0,i.jsx)(c.p,{label:"Day name",value:T.name,onChange:e=>B({...T,name:e.target.value}),disabled:!P}),(0,i.jsx)(u.l,{label:"Map to weekday (optional)",value:null===T.weekday?"":String(T.weekday),onChange:e=>B({...T,weekday:""===e?null:Number(e)}),options:q,disabled:!P})]}),P?null:(0,i.jsx)("div",{className:"mt-4 rounded-3xl border border-dashed border-white/15 bg-white/5 p-4 text-sm text-white/70",children:"Enable edit mode above to add, rename, or delete workout days and exercises."}),(0,i.jsxs)("div",{className:"mt-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("div",{className:"text-sm uppercase tracking-[0.35em] text-white/60",children:"Exercises"}),(0,i.jsx)(M,{onAdd:e=>{B({...T,exercises:[...T.exercises,e]})},disabled:!P})]}),(0,i.jsxs)("div",{className:"mt-4 grid gap-3",children:[0===T.exercises.length&&(0,i.jsx)("div",{className:"rounded-3xl border border-white/10 bg-black/30 p-6 text-sm text-white/70",children:"Add an exercise (sets/reps). Toggle weight tracking if you want history."}),T.exercises.map(e=>(0,i.jsx)(R,{day:T,ex:e,onChange:e=>{B({...T,exercises:T.exercises.map(s=>s.id===e.id?e:s)})},onDelete:()=>{B({...T,exercises:T.exercises.filter(s=>s.id!==e.id)})},editingEnabled:P},e.id))]})]})]},T.id):(0,i.jsx)(x.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,i.jsx)("div",{className:"text-sm text-white/70",children:"Select a workout day"})},"none")})})]})]})]})}function D(e){let{onAdd:s,disabled:t}=e,[a,r]=(0,l.useState)("");return(0,i.jsxs)("div",{className:"flex items-end gap-2",children:[(0,i.jsx)(c.p,{label:"New day",placeholder:"Push / Pull / Legs",value:a,onChange:e=>r(e.target.value),disabled:t}),(0,i.jsxs)(d.$,{disabled:t,onClick:()=>{let e=a.trim();e&&(s(e),r(""))},children:[(0,i.jsx)(m.A,{className:"mr-2 h-4 w-4"})," Add"]})]})}function M(e){let{onAdd:s,disabled:t}=e,[a,r]=(0,l.useState)(""),[n,o]=(0,l.useState)(3),[u,h]=(0,l.useState)("8-12"),[b,x]=(0,l.useState)(!1);return(0,i.jsxs)("div",{className:"mt-2 grid w-full gap-3 rounded-3xl border border-white/10 bg-black/30 p-3 sm:grid-cols-2 lg:grid-cols-4 lg:items-end",children:[(0,i.jsx)(c.p,{label:"Exercise",placeholder:"Bench Press",value:a,onChange:e=>r(e.target.value),disabled:t}),(0,i.jsx)(c.p,{label:"Sets",type:"number",value:n,onChange:e=>o(Number(e.target.value)),disabled:t}),(0,i.jsx)(c.p,{label:"Reps",value:u,onChange:e=>h(e.target.value),disabled:t}),(0,i.jsxs)("div",{className:"flex flex-col gap-2 sm:gap-3 sm:col-span-2 sm:flex-row sm:flex-wrap sm:items-center sm:justify-end lg:col-span-1",children:[(0,i.jsx)(d.$,{className:"w-full sm:w-auto",variant:b?"secondary":"ghost",onClick:()=>x(e=>!e),title:"Toggle weight tracking",disabled:t,children:b?"Track weight: ON":"Track weight: OFF"}),(0,i.jsx)(d.$,{className:"w-full sm:w-auto",disabled:t,onClick:()=>{let e=a.trim();e&&(s({id:crypto.randomUUID(),name:e,sets:n,reps:u,trackWeight:b,logs:[]}),r(""),p.o.success("Exercise added"))},children:"Add"})]})]})}function R(e){let{day:s,ex:t,onChange:a,onDelete:r,editingEnabled:n}=e,o=(0,h.P)(),u=new Date().toISOString().slice(0,10),[b,m]=(0,l.useState)(0),f=t.logs.slice().sort((e,s)=>s.date.localeCompare(e.date))[0],w=t.logs.find(e=>e.date===u);return(0,i.jsx)(x.P.div,{layout:!0,className:"rounded-3xl border border-white/10 bg-black/30 p-4 shadow-[0_10px_30px_rgba(0,0,0,0.4)]",children:(0,i.jsxs)("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-start lg:justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-lg font-semibold",children:t.name}),(0,i.jsxs)("div",{className:"text-sm text-white/70",children:[t.sets," sets • ",t.reps," reps • ",t.trackWeight?"Weight tracking ON":"Weight tracking OFF"]}),f&&t.trackWeight&&(0,i.jsxs)("div",{className:"mt-1 text-xs text-white/50",children:["Last: ",f.weight," on ",f.date]})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:flex-wrap sm:items-center sm:justify-end",children:[t.trackWeight&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.p,{label:"Today (".concat(u,")"),type:"number",value:b,onChange:e=>m(Number(e.target.value)),className:"w-full sm:w-32"}),(0,i.jsx)(d.$,{className:"w-full sm:w-auto",onClick:function(){t.trackWeight&&b&&(a({...t,logs:[...t.logs.filter(e=>e.date!==u),{date:u,weight:b}]}),o.bumpWorkoutIndicator(u),p.o.success("Logged weight for today"))},children:"Save"}),w?(0,i.jsx)(d.$,{className:"w-full sm:w-auto",variant:"ghost",onClick:function(){t.trackWeight&&(a({...t,logs:t.logs.filter(e=>e.date!==u)}),p.o.success("Removed today's logged weight"))},children:"Clear today"}):null]}),(0,i.jsxs)(d.$,{className:"w-full sm:w-auto",variant:"destructive",onClick:r,disabled:!n,children:[(0,i.jsx)(g.A,{className:"mr-2 h-4 w-4"})," Remove"]})]})]})})}},6191:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(1847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7202:(e,s,t)=>{Promise.resolve().then(t.bind(t,6003))},7972:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var i=t(5155);t(2115);var l=t(4269);function a(e){let{className:s,children:t}=e;return(0,i.jsx)("div",{className:(0,l.cn)("w-full rounded-[28px] border border-white/10 bg-white/5 p-5 shadow-[0_30px_80px_rgba(2,4,13,0.65)] backdrop-blur-xl transition-colors duration-200 hover:border-white/20 sm:p-6",s),children:t})}}},e=>{e.O(0,[909,825,619,986,441,255,358],()=>e(e.s=7202)),_N_E=e.O()}]);